<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>H12Video.html</title>
</head>
<body> 

	<!-- 
		controls속성 : 동영상을 플레이할 때 컨트롤바를 보이게 할지 여부를 지정하는 속성으로
					볼륨, 프로그래스바, 전체화면 등의 버튼이 있다.
					
	<h2>기본 Video 태그</h2>
	<video src ="media/video.mp4" autoplay controls width="300" height="200">
	해당 브라우저가 video태그를 지원하지 않는 경우
	<a href="media/video.mp4">여기</a>를 클릭하세용
	</video>
	-->
	
	<!-- 
		source 하위태그 : 웹브라우저가 모든 동영상 포멧을 지원하지 못하기 때문에
					여러 항목 중 해당 브라우저가 지원하는 포멧의 파일을 찾아서
					플레이할 수 있도록 한다.
					즉, 미디어 파일을 여러개 설정할 때 사용하는 태그
	 -->

	 <!--
	<h2>video의 하위태그 source</h2>
	<video autoplay controls width="300" height="200">
	
		<source src="media/video.3gp"></source>
		<source src="media/video.mp4"></source>
	
		해당 브라우저가 video태그를 지원하지 않는 경우
		<a href="media/video.mp4">여기</a>를 클릭하세요.
	</video>
	-->

	<h2>Javascript를 이용한 커스텀 비디오 만들기!</h2>
	<!-- JS 수업 이후 작성한다! -->
	
	<script>
		var video; //video의 DOM을 저장할 전역변수

		window.onload = function() //HTML문서의 로드가 끝난 이후 실행될 무기명 함수
		{
			var currentSpan = document.getElementById("currenttime");
			var totalSpan = document.getElementById("totaltime");
			video = document.getElementById("video");

			/*
			video에 timeupdate 이벤트를 등록해준다.
			총 재생시간과 실시간 재생시간을 얻어올 수 있다.
			재생이 될 때 지속적으로 이벤트가 발생한다.
			*/
			video.addEventListener("timeupdate", function()
			{
				currentSpan.innerHTML = video.currentTime; //현재 재생시간 출력
				totalSpan.innerHTML = video.duration; //전체 재생시간 출력
			});
		}
		
		function play()
		{
			video.hidden = ""; //비디오 화면 보임처리
			video.play(); //재생시작
		}

		function stop()
		{
			video.hidden = true; //화면 숨김처리
			video.pause(); //일시정지
		}

		function start()
		{
			video.currentTime = 0; //처음부터 다시 재생하기 위해 0으로 만들어준다
			video.play(); //다시 재생시작
		}
	</script>

	<div>
		<video id="video" width="300" height="200" src="./media/video.mp4" hidden></video>
		<!-- 
			video태그를 통해 영상을 출력한다.
			hidden속성에 의해 첫 로딩시에는 화면이 보이지 않는다.
		-->
	</div>

	<div>
		<input type="button" value="재생하기" onclick="play();" />
		<input type="button" value="일시정지" onclick="stop();" />
		<input type="button" value="처음부터재생하기" onclick="start()" />
		<br />
		<span id="currenttime"></span> / <!-- 현재 재생시간 -->
		<span id="totaltime"></span> <!-- 전체 재생시간 -->
	</div>

</body>
</html>